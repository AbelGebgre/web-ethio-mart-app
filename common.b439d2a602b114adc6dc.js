(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{GaOe:function(t,e,o){"use strict";o.d(e,"a",function(){return i});var r=o("fXoL"),n=o("sSZD"),s=o("otk6");let i=(()=>{class t{constructor(t,e){this.db=t,this.fun=e,this.url="/categories"}get(t=null){const e=null!==t&&""!==t.split("=")[1]?"?"+t:null!==t&&""===t.split("=")[1]?"/"+t:"";return this.db.list(`${this.url}${e}`)}add(t,e=null){var o;delete t.id;const r=[];return(null===(o=null==t?void 0:t.image)||void 0===o?void 0:o.length)>0?t.image.forEach((o,n)=>this.fun.storeToFirebase(o,this.url).then(o=>{if(r.push(o),n+1===t.image.length)return t.image=1===r.length?r[0]:r,t.created_at=(new Date).toISOString(),this.db.list(this.url).push(t).then(t=>{this.fun.notify("Added"),e.ref.close(),e.block.stop()}).catch(t=>{e.block.stop(),this.fun.notify("","Something error occur",3e3)});n++}).catch(t=>{e.block.stop(),this.fun.notify("","Something error occur",3e3)})):(t.created_at=(new Date).toISOString(),this.db.list(this.url).push(t).then(t=>{this.fun.notify("Added"),e.ref.close(),e.block.stop()}).catch(t=>{e.block.stop(),this.fun.notify("","Something error occur",3e3)}))}update(t,e,o=null){var r;delete e.id;const n=`${this.url}/${t}`;let s=0;const i=[];return(null===(r=null==e?void 0:e.image)||void 0===r?void 0:r.length)>0?e.image.forEach((t,r)=>null==(null==t?void 0:t.url)?this.fun.storeToFirebase(t,this.url).then(t=>{if(i.push(t),s++,r+1===e.image.length)return e.image=1===i.length?i[0]:i,this.db.object(n).update(e).then(t=>{this.fun.notify("Updated"),o.ref.close(),o.block.stop()}).catch(t=>{o.block.stop(),this.fun.notify("","Something error occur",3e3)});r++}).catch(t=>{o.block.stop(),this.fun.notify("","Something error occur",3e3)}):(i.push(null==t?void 0:t.url),0===s?(e.image=1===i.length?i[0]:i,this.db.object(n).update(e).then(t=>{this.fun.notify("Update"),o.ref.close(),o.block.stop()}).catch(t=>{o.block.stop(),this.fun.notify("","Something error occur",3e3)})):void 0)):this.db.object(n).update(e).then(t=>{this.fun.notify("Update"),o.ref.close(),o.block.stop()}).catch(t=>{o.block.stop(),this.fun.notify("","Something error occur",3e3)})}delete(t){return this.db.object(`${this.url}/${t}`).remove()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(n.a),r.ac(s.a))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},VCSl:function(t,e,o){"use strict";o.d(e,"a",function(){return s});var r=o("fXoL"),n=o("tyFq");let s=(()=>{class t{constructor(t){this.store=t}add(t){this.store.add(t)}set(t){this.store.set(t)}update(t){this.store.update(t.id,t)}delete(t){this.store.remove(t)}destroy(){this.store.destroy()}}return t.\u0275fac=function(e){return new(e||t)(r.ac(n.a))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},YJ4X:function(t,e,o){"use strict";o.d(e,"a",function(){return c});var r=o("mrSG"),n=o("4ZtF"),s=o("fXoL"),i=o("tyFq");let c=(()=>{let t=class extends n.f{constructor(t){super(t),this.store=t}};return t.\u0275fac=function(e){return new(e||t)(s.ac(i.a))},t.\u0275prov=s.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t=Object(r.__decorate)([Object(n.e)({sortBy:"id",sortByOrder:n.c.DESC})],t),t})()},tyFq:function(t,e,o){"use strict";o.d(e,"a",function(){return i});var r=o("mrSG"),n=o("4ZtF"),s=o("fXoL");let i=(()=>{let t=class extends n.b{constructor(){super()}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t=Object(r.__decorate)([Object(n.i)({name:"options",resettable:!0})],t),t})()}}]);