(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{MYyV:function(e,t,a){"use strict";a.r(t),a.d(t,"ParkingModule",function(){return X});var i=a("5EWq"),o=a("Xa2L"),n=a("/1cH"),r=a("iadO"),l=a("1jcm"),s=a("d3UM"),c=a("NFeN"),d=a("qFsG"),u=a("kmnG"),b=a("0IaG"),p=a("V5BG"),h=a("Q4Mo"),m=a("jIHw"),f=a("7kUa"),g=a("3Pt+"),v=a("rEr+"),D=a("PCNd"),C=a("ofXK"),k=a("mrSG"),y=a("LRne"),V=a("7+5H"),W=a("4ZtF"),w=a("nnAt"),I=a("12jx"),Q=a("fXoL"),M=a("otk6"),N=a("H0VJ"),O=a("FKr1"),S=a("xivw");function x(e,t){if(1&e&&(Q.Wb(0,"mat-error",8),Q.Qc(1),Q.Vb()),2&e){const e=Q.hc();Q.Cb(1),Q.Sc("",e.displayMessage.date," ")}}function B(e,t){if(1&e&&(Q.Wb(0,"mat-error",8),Q.Qc(1),Q.Vb()),2&e){const e=Q.hc();Q.Cb(1),Q.Sc("",e.displayMessage.price," ")}}function P(e,t){if(1&e&&(Q.Wb(0,"mat-option",31),Q.Wb(1,"span",32),Q.Qc(2),Q.Vb(),Q.Rb(3,"br"),Q.Wb(4,"small",32),Q.Qc(5),Q.Vb(),Q.Rb(6,"br"),Q.Vb()),2&e){const e=t.$implicit;Q.oc("value",e.id),Q.Cb(2),Q.Rc(e.plateNo),Q.Cb(3),Q.Rc(" "+e.brand+" - "+e.model)}}function j(e,t){if(1&e&&(Q.Wb(0,"mat-option",31),Q.Wb(1,"span",32),Q.Qc(2),Q.Vb(),Q.Vb()),2&e){const e=t.$implicit;Q.oc("value",e.id),Q.Cb(2),Q.Rc(e.name)}}function R(e,t){if(1&e&&(Q.Wb(0,"mat-error",8),Q.Qc(1),Q.Vb()),2&e){const e=Q.hc();Q.Cb(1),Q.Rc(e.displayMessage.place)}}let q=(()=>{class e{constructor(e,t,a,i,o,n){var r,l,s,c,d,u,b,p,h,m,f,v,D,C,k,y,V,I,M;this.fb=e,this.fun=t,this.dialogServices=a,this.datePipe=i,this.dateAdapter=o,this.config=n,this.formSubmit=new Q.o,this.formClose=new Q.o,this.drivers=[],this.cars=[],this.columns=["name","label","type","required"],this.actions=[{icon:"pencil",color:"warning",disable:!1},{icon:"trash",color:"danger"}],this.isPublished=!0,this.dialogConfig={width:"500px"},this.displayMessage={},this.dateAdapter.setLocale("en-GB"),this.image=Object(W.k)(null===(r=this.config.formData)||void 0===r?void 0:r.image)?null===(l=this.config.formData)||void 0===l?void 0:l.image:Object(W.p)(null===(s=this.config.formData)||void 0===s?void 0:s.image)?[null===(c=this.config.formData)||void 0===c?void 0:c.image]:Object(W.q)(null===(d=this.config.formData)||void 0===d?void 0:d.image)?[null===(u=this.config.formData)||void 0===u?void 0:u.image]:[],null===(p=null===(b=this.config.lookupData)||void 0===b?void 0:b.drivers)||void 0===p||p.subscribe(e=>{this.drivers=this.fun.extractData(e)}),null===(m=null===(h=this.config.lookupData)||void 0===h?void 0:h.cars)||void 0===m||m.subscribe(e=>{this.cars=this.fun.extractData(e)}),this.isPublished=void 0===(null===(f=this.config.formData)||void 0===f?void 0:f.status)||(null===(v=this.config.formData)||void 0===v?void 0:v.status),this.form=this.fb.group({id:null===(D=this.config.formData)||void 0===D?void 0:D.id,date:[new Date(null===(C=this.config.formData)||void 0===C?void 0:C.date)||new Date,g.x.required],price:[null===(k=this.config.formData)||void 0===k?void 0:k.price,g.x.required],driverID:[null===(y=this.config.formData)||void 0===y?void 0:y.driverID,g.x.required],carID:[null===(V=this.config.formData)||void 0===V?void 0:V.carID,g.x.required],image:this.image,place:null===(I=this.config.formData)||void 0===I?void 0:I.place,created_at:null===(M=this.config.formData)||void 0===M?void 0:M.created_at}),this.validationMessages={driverID:{required:"field is required."},date:{required:"field is required.",max:"date can't be pass current date"},price:{required:"field is required."},carID:{required:"field is required."}},this.genericValidator=new w.a(this.validationMessages)}ngOnInit(){this.today=new Date,this.form.valueChanges.subscribe(()=>this.displayMessage=this.genericValidator.processMessages(this.form))}blur(){this.displayMessage=this.genericValidator.processMessages(this.form)}keyDown(e,t){return e.key?this.fun.allowedKey(e.key,t):(e.target.value=this.fun.removeNotAllowedKey(e.target.value,t),!0)}onChange(e,t="car"){var a,i;if("car"===t){const t=null===(a=this.cars.filter(t=>t.id===e.value)[0])||void 0===a?void 0:a.driverID;this.form.controls.driverID.patchValue(t||null)}else{const t=null===(i=this.cars.filter(t=>t.driverID===e.value)[0])||void 0===i?void 0:i.id;null===this.form.value.carID&&this.form.controls.carID.patchValue(t||null)}}setValidation(e=null){this.form.controls.plateNo.setErrors({found:!0}),this.displayMessage=this.genericValidator.processMessages(this.form)}getFile(e){this.form.controls.image.setValue((null==e?void 0:e.upload.length)>0?null==e?void 0:e.upload:[])}onSubmit(){var e,t,a;const i=this.form.value,o=null===(e=this.drivers)||void 0===e?void 0:e.filter(e=>e.id===i.driverID)[0],n=null===(t=this.cars)||void 0===t?void 0:t.filter(e=>e.id===i.carID)[0],r=Object.assign(Object.assign({},i),{driverName:null===(a=null==o?void 0:o.name)||void 0===a?void 0:a.split(" ")[0],plateNo:null==n?void 0:n.plateNo});this.formSubmit.emit(r)}onCancel(){this.formClose.emit()}}return e.\u0275fac=function(t){return new(t||e)(Q.Qb(g.e),Q.Qb(M.a),Q.Qb(N.a),Q.Qb(C.e),Q.Qb(O.a),Q.Qb(b.a))},e.\u0275cmp=Q.Kb({type:e,selectors:[["app-parking-form"]],outputs:{formSubmit:"formSubmit",formClose:"formClose"},decls:67,vars:14,consts:[["autocomplete","off",3,"formGroup","submit"],["mat-dialog-title","",1,"p-dialog-header","p-d-flex","p-jc-lg-between",2,"padding","0.2re 0.3rem"],[1,"p-dialog-title","capitalize"],["pButton","","pRipple","","icon","pi pi-times",1,"shadow-none","p-button-rounded","p-button-plain","p-button-text","p-mr-1",3,"click"],["mat-dialog-content","",1,"p-dialog-content"],[1,"p-grid"],[1,"p-col-12","p-md-6"],[1,"full-width"],[1,"error"],["matInput","","formControlName","date",3,"matDatepicker","max"],["matSuffix","",3,"for"],["translate","DD/MM/YYYY","disabled","false",3,"touchUi"],["dp3",""],["class","error",4,"ngIf"],["matInput","","tabindex","0","type","text","value","","formControlName","price",3,"blur","input","keydown"],["price",""],["placeholder","choose car","formControlName","carID",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","choose driver","formControlName","driverID",3,"selectionChange"],[1,"p-col-12"],["matInput","","tabindex","0","type","text","value","","formControlName","place",3,"blur","input","keydown"],["place",""],[3,"uploadedFile","limit","fileDropped"],["fileImage",""],["mat-dialog-actions","",1,"p-dialog-footer","button-row"],["pbutton","","pripple","","label","Cancel","type","button","icon","pi pi-times",1,"p-button-text","p-ripple","p-button","p-component","shadow-none","p-mr-2",3,"click"],["aria-hidden","true",1,"p-button-icon","p-button-icon-left","pi","pi-times"],[1,"p-button-label"],[1,"p-ink"],["pbutton","","pripple","","label","Save","icon","pi pi-check","type","submit",1,"p-button-text","p-ripple","p-button","p-component","shadow-none",3,"disabled"],["aria-hidden","true",1,"p-button-icon","p-button-icon-left","pi","pi-check"],[3,"value"],[1,"capitalize"]],template:function(e,t){if(1&e&&(Q.Wb(0,"form",0),Q.ec("submit",function(){return t.onSubmit()}),Q.Wb(1,"div",1),Q.Wb(2,"div",2),Q.Qc(3),Q.Vb(),Q.Wb(4,"button",3),Q.ec("click",function(){return t.onCancel()}),Q.Vb(),Q.Vb(),Q.Wb(5,"div",4),Q.Wb(6,"div",5),Q.Wb(7,"div",6),Q.Wb(8,"mat-form-field",7),Q.Wb(9,"mat-label"),Q.Qc(10,"Date"),Q.Wb(11,"span",8),Q.Qc(12,"*"),Q.Vb(),Q.Vb(),Q.Rb(13,"input",9),Q.Wb(14,"mat-hint"),Q.Qc(15,"MM/DD/YYYY"),Q.Vb(),Q.Rb(16,"mat-datepicker-toggle",10),Q.Rb(17,"mat-datepicker",11,12),Q.Oc(19,x,2,1,"mat-error",13),Q.Vb(),Q.Vb(),Q.Wb(20,"div",6),Q.Wb(21,"mat-form-field",7),Q.Wb(22,"mat-label"),Q.Qc(23,"Price"),Q.Wb(24,"span",8),Q.Qc(25,"*"),Q.Vb(),Q.Vb(),Q.Wb(26,"input",14,15),Q.ec("blur",function(){return t.blur()})("input",function(e){return t.keyDown(e,"price")})("keydown",function(e){return t.keyDown(e,"price")}),Q.Vb(),Q.Oc(28,B,2,1,"mat-error",13),Q.Vb(),Q.Vb(),Q.Wb(29,"div",6),Q.Wb(30,"mat-form-field",7),Q.Wb(31,"mat-label"),Q.Qc(32,"Car"),Q.Wb(33,"span",8),Q.Qc(34,"*"),Q.Vb(),Q.Vb(),Q.Wb(35,"mat-select",16),Q.ec("selectionChange",function(e){return t.onChange(e,"car")}),Q.Oc(36,P,7,3,"mat-option",17),Q.Vb(),Q.Vb(),Q.Vb(),Q.Wb(37,"div",6),Q.Wb(38,"mat-form-field",7),Q.Wb(39,"mat-label"),Q.Qc(40,"Driver"),Q.Wb(41,"span",8),Q.Qc(42,"*"),Q.Vb(),Q.Vb(),Q.Wb(43,"mat-select",18),Q.ec("selectionChange",function(e){return t.onChange(e,"driver")}),Q.Oc(44,j,3,2,"mat-option",17),Q.Vb(),Q.Vb(),Q.Vb(),Q.Wb(45,"div",19),Q.Wb(46,"mat-form-field",7),Q.Wb(47,"mat-label"),Q.Qc(48,"Place"),Q.Vb(),Q.Wb(49,"input",20,21),Q.ec("blur",function(){return t.blur()})("input",function(e){return t.keyDown(e,"intStr")})("keydown",function(e){return t.keyDown(e,"intStr")}),Q.Vb(),Q.Oc(51,R,2,1,"mat-error",13),Q.Vb(),Q.Vb(),Q.Wb(52,"div",19),Q.Wb(53,"div",7),Q.Wb(54,"app-file-upload-template",22,23),Q.ec("fileDropped",function(e){return t.getFile(e)}),Q.Vb(),Q.Vb(),Q.Vb(),Q.Vb(),Q.Vb(),Q.Wb(56,"div",24),Q.Wb(57,"button",25),Q.ec("click",function(){return t.onCancel()}),Q.Rb(58,"span",26),Q.Wb(59,"span",27),Q.Qc(60,"Cancel"),Q.Vb(),Q.Rb(61,"span",28),Q.Vb(),Q.Wb(62,"button",29),Q.Rb(63,"span",30),Q.Wb(64,"span",27),Q.Qc(65,"Save"),Q.Vb(),Q.Rb(66,"span",28),Q.Vb(),Q.Vb(),Q.Vb()),2&e){const e=Q.Bc(18);Q.oc("formGroup",t.form),Q.Cb(3),Q.Rc(t.config.title),Q.Cb(10),Q.oc("matDatepicker",e)("max",t.today),Q.Cb(3),Q.oc("for",e),Q.Cb(1),Q.oc("touchUi",!0),Q.Cb(2),Q.oc("ngIf",t.displayMessage.date),Q.Cb(9),Q.oc("ngIf",t.displayMessage.price),Q.Cb(8),Q.oc("ngForOf",t.cars),Q.Cb(8),Q.oc("ngForOf",t.drivers),Q.Cb(7),Q.oc("ngIf",t.displayMessage.place),Q.Cb(3),Q.oc("uploadedFile",t.image)("limit",10),Q.Cb(8),Q.oc("disabled",!t.form.valid)}},directives:[g.y,g.r,g.i,b.g,m.b,h.a,b.e,u.c,u.g,d.b,g.c,r.d,g.q,g.g,u.f,r.f,u.h,r.c,C.m,s.a,C.l,S.a,b.c,u.b,O.h],styles:[".example-section[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;height:60px}.buttons[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}"],changeDetection:0}),Object(k.__decorate)([Object(I.a)()],e.prototype,"blockUI",void 0),e})();var Y=a("wd/R"),A=a("DYbl"),G=a("SRE/"),F=a("sSZD"),$=a("I/3d");let _=(()=>{class e{constructor(e,t,a){this.db=e,this.firestore=t,this.fun=a,this.url="/parking"}get(e=!1){const t=""+this.url;return e?this.firestore.collection(t,t=>t.where("status","==",e)):this.firestore.collection(t)}add(e,t=null){var a;delete e.id;const i=[],o=""+this.url;if((null===(a=null==e?void 0:e.image)||void 0===a?void 0:a.length)>0)return e.image.forEach((a,n)=>this.fun.storeToFirebase(a,this.url).then(a=>{if(i.push(a),n+1===e.image.length)return e.image=i,e.created_at=(new Date).toISOString(),this.firestore.collection(o).add(e).then(e=>{var a;null==t||t.ref.close(),null===(a=null==t?void 0:t.block)||void 0===a||a.stop()}).catch(e=>{var a;null===(a=null==t?void 0:t.block)||void 0===a||a.stop()});n++}).catch(e=>{t.block.stop(),this.fun.notify("",e,1e4)}));e.created_at=(new Date).toISOString(),this.firestore.collection(o).add(e).then(e=>{var a;null==t||t.ref.close(),null===(a=null==t?void 0:t.block)||void 0===a||a.stop()}).catch(e=>{var a;null===(a=null==t?void 0:t.block)||void 0===a||a.stop()})}update(e,t,a=null){var i;delete t.id;let o=0;const n=[];return(null===(i=null==t?void 0:t.image)||void 0===i?void 0:i.length)>0?t.image.forEach((i,r)=>null==(null==i?void 0:i.url)?this.fun.storeToFirebase(i,this.url).then(i=>{if(n.push(i),o++,r+1===t.image.length)return t.image=n,this.firestore.collection(this.url).doc(e).update(t).then(e=>{var t;null==a||a.ref.close(),null===(t=null==a?void 0:a.block)||void 0===t||t.stop()}).catch(e=>{var t;null===(t=null==a?void 0:a.block)||void 0===t||t.stop()});r++}).catch(e=>{a.block.stop(),this.fun.notify("","Something error occur",3e3)}):(n.push(null==i?void 0:i.url),0===o?(t.image=n,this.firestore.collection(this.url).doc(e).update(t).then(e=>{var t;null==a||a.ref.close(),null===(t=null==a?void 0:a.block)||void 0===t||t.stop()}).catch(e=>{var t;null===(t=null==a?void 0:a.block)||void 0===t||t.stop()})):void 0)):this.firestore.collection(this.url).doc(e).update(t).then(e=>{var t;null==a||a.ref.close(),null===(t=null==a?void 0:a.block)||void 0===t||t.stop()}).catch(e=>{var t;null===(t=null==a?void 0:a.block)||void 0===t||t.stop()})}delete(e,t=null){return this.firestore.collection(this.url).doc(e).delete()}fitch(e){const t=new Date(new Date(null==e?void 0:e.start).setHours(12,0,0,0)),a=new Date(new Date(null==e?void 0:e.end).setHours(12,0,0,0));return this.firestore.collection(this.url,e=>e.where("date",">",t).where("date","<=",a))}}return e.\u0275fac=function(t){return new(t||e)(Q.ac(F.a),Q.ac($.a),Q.ac(M.a))},e.\u0275prov=Q.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var E=a("WLRH");function U(e,t){1&e&&(Q.Wb(0,"mat-error"),Q.Qc(1,"Invalid start date"),Q.Vb())}function L(e,t){1&e&&(Q.Wb(0,"mat-error"),Q.Qc(1,"Invalid end date"),Q.Vb())}let T=(()=>{class e{constructor(e,t,a,i,o,n,r){this.carService=e,this.userService=t,this.parkingService=a,this.dialogServices=i,this.dateAdapter=o,this.db=n,this.fun=r,this.caption="Parking",this.columns=[{label:"Date",name:"date",type:"date",sortable:!0},{label:"Price",name:"price",type:"price",sortable:!0},{label:"Driver",name:"driverName",type:"link",sortable:!0},{label:"Car",name:"plateNo",type:"link",sortable:!0},{label:"Image",name:"image",type:"image",sortable:!1},{label:"Place",name:"place",sortable:!0}],this.actions=[{icon:"pencil",color:"warning",disable:!1},{icon:"trash",color:"danger"}],this.toolBarActions=[{position:"right",action:[]},{position:"left",action:[{label:"Create",icon:"plus",color:"",tooltip:null}]}],this.dates=["monday","tuesday"],this.range=new g.h({start:new g.f(null),end:new g.f(null)}),this.today=new Date,this.duration="isoWeek",this.groupedBy=[],this.dialogConfig={width:"550px",formComponent:q,service:this.parkingService},this.dialogConfigModal={closable:!0,formComponent:V.a}}ngOnInit(){let e;this.dateAdapter.setLocale("en-GB");const t=Y().format("dddd").toLowerCase();e=this.dates.includes(t)?Y().subtract(1,"weeks").startOf("isoWeek").toDate():Y().startOf("isoWeek").toDate();const a=Y().endOf("isoWeek").toDate();let i,o;this.range.controls.start.patchValue(e),this.range.controls.end.patchValue(a>new Date?new Date:a),this.getChangedData(),this.cars$=i=this.carService.get(!0).snapshotChanges(),i.subscribe(e=>this.cars=this.fun.extractData(e)),this.users$=o=this.userService.get("driver").snapshotChanges(),o.subscribe(e=>this.users=this.fun.extractData(e))}add(){this.dialogConfig.title="New Parking",this.dialogConfig.formData="",this.dialogConfig.lookupData={drivers:this.users$,cars:this.cars$},this.dialogServices.handleDialog(this.dialogConfig)}update(e){this.dialogConfig.title="Edit Parking Info",this.dialogConfig.formData=e,this.dialogConfig.lookupData={drivers:this.users$,cars:this.cars$},this.dialogServices.handleDialog(this.dialogConfig)}getChangedData(){var e;(null===(e=this.range.value)||void 0===e?void 0:e.end)&&(this.parking$=this.onDateChange())}onDateChange(){var e;if(null===(e=this.range.value)||void 0===e?void 0:e.end){let e;this.blockUI.start("Loading...");const{start:t,end:a}=this.range.value,i=Y(t).subtract(1,"day").toDate();return e=this.data=this.parkingService.fitch({start:i,end:a}).snapshotChanges(),e.subscribe(e=>{this.parking=this.fun.extractData(e),this.blockUI.stop(),this.onGroupedByChange({value:this.groupedBy})}),e}}onGroupedByChange(e){var t;if((null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.length)>0){let t=this.parking;t=this.fun.groupedBy(t,e.value).map(e=>({driverName:e.driverName,driverID:e.driverID,plateNo:e.plateNo,date:e.date,carID:e.carID,price:this.fun.sumObjArr(null==e?void 0:e.items,"price"),count:e.items.length,items:e.items})),this.parking$=Object(y.a)(t),this.columns=[{label:"Date",name:"date",type:"date",sortable:!0},{label:"Driver",name:"driverName",type:"link",sortable:!0},{label:"Car",name:"plateNo",type:"link",sortable:!0},{label:"Price",name:"price",type:"price",sortable:!0},{label:"Parkings",name:"count",type:"link",sortable:!0}]}else this.columns=[{label:"Date",name:"date",type:"date",sortable:!0},{label:"Price",name:"price",type:"price",sortable:!0},{label:"Driver",name:"driverName",type:"link",sortable:!0},{label:"Car",name:"plateNo",type:"link",sortable:!0},{label:"Image",name:"image",type:"image",sortable:!1},{label:"Place",name:"place",sortable:!0}],this.parking$=this.data}onColumnsChange(e){if("isoWeek"===e.value||"month"===e.value){let t,a;const i=Y().format("dddd").toLowerCase();a=this.dates.includes(i)&&"isoWeek"===e.value?Y().subtract(1,"weeks").startOf("isoWeek").toDate():Y().startOf(e.value).toDate(),t=Y().endOf(e.value).toDate(),t=t>new Date?new Date:t,this.range.controls.start.patchValue(a),this.range.controls.end.patchValue(t)}}onActionClick(e){"pencil"===e.type?this.update(e.data):"trash"===e.type?(this.blockUI.start("Deleting..."),this.parkingService.delete(e.data.id).then(this.blockUI.stop())):"link"===e.type&&("driverName"===e.position?this.users$.subscribe(t=>{const a=this.fun.extractData(t).filter(t=>{var a;return(null==t?void 0:t.id)===(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.driverID)}).map(e=>{var{name:t,phone:a,email:i}=e;return Object(k.__rest)(e,["name","phone","email"]),{name:t,phone:a,email:i}});if(a.length>0){const e=Object.keys(a[0]),t=this.fun.getColumns(e);this.showModalTable("Driver Info",t,a)}}):"plateNo"===e.position?this.cars$.subscribe(t=>{const a=this.fun.extractData(t).filter(t=>{var a;return(null==t?void 0:t.id)===(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.carID)}).map(e=>{var{plateNo:t,brand:a,model:i,driverName:o,image:n,status:r,company:l}=e;return Object(k.__rest)(e,["plateNo","brand","model","driverName","image","status","company"]),{plateNo:t,brand:a,model:i,driverName:o,image:n,status:r,company:l}});if(a.length>0){const e=Object.keys(a[0]),t=this.fun.getColumns(e);this.showModalTable("Car Info",t,a)}}):"count"===e.position&&this.showModalTable("Parking",[{label:"Date",name:"date",type:"date",sortable:!0},{label:"Price",name:"price",type:"price",sortable:!0},{label:"Driver",name:"driverName",type:"link",sortable:!0},{label:"Car",name:"plateNo",type:"link",sortable:!0},{label:"Image",name:"image",type:"image",sortable:!1},{label:"Place",name:"place",sortable:!0}],e.data.items))}showModalTable(e,t,a,i="1000px"){this.dialogConfigModal.width=i,this.dialogConfigModal.lookupData={caption:e,columns:t,data:a},this.dialogServices.handleDialog(this.dialogConfigModal)}onToolBarActionClick(e){"plus"===e&&this.add()}}return e.\u0275fac=function(t){return new(t||e)(Q.Qb(A.a),Q.Qb(G.a),Q.Qb(_),Q.Qb(N.a),Q.Qb(O.a),Q.Qb(F.a),Q.Qb(M.a))},e.\u0275cmp=Q.Kb({type:e,selectors:[["app-parking"]],decls:37,vars:19,consts:[[1,"card"],[1,"p-toolbar-group-left"],[1,"p-mr-3"],[3,"value","valueChange","selectionChange"],["value","isoWeek"],["value","month"],[1,"p-ml-3"],["multiple","",3,"value","valueChange","selectionChange"],["value","driverID"],["value","carID"],["value","date"],[3,"formGroup","rangePicker","max"],["matStartDate","","formControlName","start","placeholder","Start date"],["matEndDate","","formControlName","end","placeholder","End date",3,"ngModelChange"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],[3,"caption","columns","data","actions","selectedColumns","first","rows","sortBy","toolBarActions","buttonClick","toolBarButtonClick"]],template:function(e,t){if(1&e&&(Q.Wb(0,"div",0),Q.Wb(1,"p-toolbar"),Q.Wb(2,"div",1),Q.Wb(3,"mat-form-field",2),Q.Wb(4,"mat-label"),Q.Qc(5,"Duration"),Q.Vb(),Q.Wb(6,"mat-select",3),Q.ec("valueChange",function(e){return t.duration=e})("selectionChange",function(e){return t.onColumnsChange(e)}),Q.Wb(7,"mat-option",4),Q.Qc(8,"Weekly"),Q.Vb(),Q.Wb(9,"mat-option",5),Q.Qc(10,"Monthly"),Q.Vb(),Q.Vb(),Q.Vb(),Q.Wb(11,"mat-form-field",6),Q.Wb(12,"mat-label"),Q.Qc(13,"Grouped By"),Q.Vb(),Q.Wb(14,"mat-select",7),Q.ec("valueChange",function(e){return t.groupedBy=e})("selectionChange",function(e){return t.onGroupedByChange(e)}),Q.Wb(15,"mat-option",8),Q.Qc(16,"Driver"),Q.Vb(),Q.Wb(17,"mat-option",9),Q.Qc(18,"Car"),Q.Vb(),Q.Wb(19,"mat-option",10),Q.Qc(20,"Date"),Q.Vb(),Q.Vb(),Q.Vb(),Q.Vb(),Q.Wb(21,"div",1),Q.Wb(22,"mat-form-field"),Q.Wb(23,"mat-label"),Q.Qc(24,"Enter a date range"),Q.Vb(),Q.Wb(25,"mat-date-range-input",11),Q.Rb(26,"input",12),Q.Wb(27,"input",13),Q.ec("ngModelChange",function(){return t.getChangedData()}),Q.Vb(),Q.Vb(),Q.Wb(28,"mat-hint"),Q.Qc(29,"DD/MM/YYYY \u2013 DD/MM/YYYY"),Q.Vb(),Q.Rb(30,"mat-datepicker-toggle",14),Q.Rb(31,"mat-date-range-picker",null,15),Q.Oc(33,U,2,0,"mat-error",16),Q.Oc(34,L,2,0,"mat-error",16),Q.Vb(),Q.Vb(),Q.Vb(),Q.Vb(),Q.Wb(35,"app-table-template",17),Q.ec("buttonClick",function(e){return t.onActionClick(e)})("toolBarButtonClick",function(e){return t.onToolBarActionClick(e)}),Q.ic(36,"async"),Q.Vb()),2&e){const e=Q.Bc(32);Q.Cb(6),Q.oc("value",t.duration),Q.Cb(8),Q.oc("value",t.groupedBy),Q.Cb(11),Q.oc("formGroup",t.range)("rangePicker",e)("max",t.today),Q.Cb(5),Q.oc("for",e),Q.Cb(3),Q.oc("ngIf",t.range.controls.start.hasError("matStartDateInvalid")),Q.Cb(1),Q.oc("ngIf",t.range.controls.end.hasError("matEndDateInvalid")),Q.Cb(1),Q.oc("caption",t.caption)("columns",t.columns)("data",Q.jc(36,17,t.parking$))("actions",t.actions)("selectedColumns",t.columns)("first",(null==t.currentPage?null:t.currentPage.first)||0)("rows",(null==t.currentPage?null:t.currentPage.rows)||10)("sortBy",t.sortBy)("toolBarActions",t.toolBarActions)}},directives:[i.a,u.c,u.g,s.a,O.h,r.a,g.r,g.i,r.h,g.c,g.q,g.g,r.g,u.f,r.f,u.h,r.b,C.m,E.a,u.b],pipes:[C.b],styles:[""]}),Object(k.__decorate)([Object(I.a)()],e.prototype,"blockUI",void 0),e})();var H=a("tyNb");const K=[{path:"",component:T},{path:"**",redirectTo:""}];let J=(()=>{class e{}return e.\u0275mod=Q.Ob({type:e}),e.\u0275inj=Q.Nb({factory:function(t){return new(t||e)},imports:[[H.e.forChild(K)],H.e]}),e})(),X=(()=>{class e{}return e.\u0275mod=Q.Ob({type:e}),e.\u0275inj=Q.Nb({factory:function(t){return new(t||e)},imports:[[C.c,J,D.a,v.f,g.k,g.v,f.b,m.c,h.b,i.b,p.a,b.f,u.e,d.c,c.a,s.b,l.b,r.e,n.a,o.a]]}),e})()}}]);